<app-loader-pagamentos></app-loader-pagamentos>

<section class="section-container">
  <div class="cards">
    <app-card tituloCard="Data" [icone]="icones.faCalendarAlt">
      <div class="flex">
        <h3>{{ dataAtual | date : "dd/MM/YYYY" }}</h3>
      </div>
    </app-card>
    <app-card tituloCard="Total" [icone]="icones.faDollarSign">
      <div class="flex">
        <h3>{{ isValorOCulto ? 'R$ ***' : (dinheiroTotal | currency : "R$") }}</h3>
        <mat-icon class="icon-hide" (click)="toogleVisibilidadeValor()">{{
          isValorOCulto ? "visibility" : "visibility_off"
        }}</mat-icon>
      </div>
    </app-card>
    <app-card [isTextoAnimado]="false" tituloCard="Em desenvolvimento">
      <!-- <div class="flex">
        <app-gasto-estatistica-porcentagem></app-gasto-estatistica-porcentagem>
      </div> -->
    </app-card>
  </div>

  <app-card tituloCard="Novo lançamento">
    <form [formGroup]="formulario">
      <div class="inputs-cadastro">
        <div class="form-input">
          <app-input formControlName="descricao">Descrição do item</app-input>
        </div>
        <div class="form-input">
          <app-input tipo="number" formControlName="preco"
            >Preço pago</app-input
          >
        </div>
        <div class="form-input">
          <app-date-picker formControlName="dataPagamento"></app-date-picker>
        </div>
        <div class="form-buttons">
          <app-button
            [disabled]="!formulario.valid"
            background="sucesso"
            label="label-branco"
            (evento)="adicionarNovoPagamento()"
            >Cadastrar</app-button
          >
          <app-button
            background="branco"
            label="label-preto"
            (evento)="limparFormulario()"
            >Limpar</app-button
          >
        </div>
      </div>
    </form>
  </app-card>

  <div class="mat-elevation-z8">
    <div class="filtros">
      <div class="filtro-descricao">
        <app-input
          [isPequeno]="true"
          [isRequired]="false"
          [(ngModel)]="filtrarDescricao"
          >Filtrar</app-input
        >
      </div>

      <div class="dropdown">
        <app-dropdown (lista)="setPagamentos = $event" (dinheiroTotal)="setDinheiroTotal = $event"></app-dropdown>
      </div>

    </div>

    <app-tabela
      [dados]="listaAuxiliar"
      [colunas]="colunas"
      (editarEmit)="editarPagamento($event)"
      (deletarEmit)="deletarPagamento($event)"
    >
    </app-tabela>
  </div>
</section>
